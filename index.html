<!doctype html>
<html lang="uk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="theme-color" content="#E9E7FF" />
  <title>KeksSwap</title>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&family=Rubik+Spray+Paint&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="./styles.css" />

  <!-- Telegram WebApp init (важно, чтобы не было белого/черного экрана) -->
  <script>
    (function () {
      try {
        if (window.Telegram && Telegram.WebApp) {
          Telegram.WebApp.ready();
          Telegram.WebApp.expand();
          Telegram.WebApp.setBackgroundColor?.('#E9E7FF');
          Telegram.WebApp.setHeaderColor?.('secondary_bg_color');
        }
      } catch (e) {}
    })();
  </script>
</head>

<body>
  <div id="app" class="app">
    <!-- Top header -->
    <header class="topbar">
      <div class="topbar__inner">
        <div class="brand">
          <img class="brand__logo" src="./logo.png" alt="KeksSwap" />
          <div class="brand__title" aria-label="KeksSwap">KeksSwap</div>
        </div>

        <div class="topbar__right">
          <button id="langBtn" class="langBtn" type="button" aria-haspopup="true" aria-expanded="false">
            <span id="langLabel">UA</span>
            <span class="langBtn__chev">▼</span>
          </button>

          <div id="langMenu" class="langMenu" role="menu" aria-hidden="true">
            <button class="langMenu__item" data-lang="UA" type="button" role="menuitem">UA</button>
            <button class="langMenu__item" data-lang="EN" type="button" role="menuitem">EN</button>
            <button class="langMenu__item" data-lang="PL" type="button" role="menuitem">PL</button>
          </div>
        </div>
      </div>

      <!-- Main nav -->
      <nav class="nav">
        <button class="nav__btn is-active" data-route="exchange" type="button">Обмін</button>
        <button class="nav__btn" data-route="rules" type="button">Правила</button>
        <button class="nav__btn" data-route="account" type="button">Аккаунт</button>
        <button class="nav__btn" data-route="more" type="button">Ще</button>
      </nav>
    </header>

    <!-- Pages -->
    <main class="page">
      <!-- EXCHANGE -->
      <section class="view" data-view="exchange">
        <div class="card">
          <h1 class="h1">Обмін</h1>

          <div class="block">
            <div class="block__label">Віддаєте</div>

            <button id="fromPick" class="pick" type="button">
              <img id="fromLogo" class="pick__logo" src="./logos/banks/mono.png" alt="" />
              <div class="pick__meta">
                <div id="fromName" class="pick__name">Monobank</div>
                <div id="fromCode" class="pick__code">UAH</div>
              </div>
              <div class="pick__chev">▼</div>
            </button>

            <input id="fromAmt" class="amount" inputmode="decimal" placeholder="0" value="" />
          </div>

          <div class="swapRow">
            <button id="swapBtn" class="swapBtn" type="button" aria-label="Swap">
              <svg width="26" height="26" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M7 7h13l-2.6-2.6" stroke="white" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M17 17H4l2.6 2.6" stroke="white" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </button>
          </div>

          <div class="block">
            <div class="block__label">Отримуєте</div>

            <button id="toPick" class="pick" type="button">
              <img id="toLogo" class="pick__logo" src="./logos/crypto/btc.png" alt="" />
              <div class="pick__meta">
                <div id="toName" class="pick__name">Bitcoin</div>
                <div id="toCode" class="pick__code">BTC</div>
              </div>
              <div class="pick__chev">▼</div>
            </button>

            <input id="toAmt" class="amount amount--readonly" inputmode="decimal" placeholder="0" value="" readonly />
          </div>

          <div class="rateLine">
            <div class="rateLine__label">Курс</div>
            <div id="rateText" class="rateLine__value">—</div>
          </div>

          <button id="submitBtn" class="primaryBtn" type="button">Створити заявку</button>
          <div class="hint">Статус заявки зʼявиться після подачі (пізніше додамо повний трекінг).</div>
        </div>
      </section>

      <!-- RULES -->
      <section class="view" data-view="rules" hidden>
        <div class="card">
          <h1 class="h1">Rules</h1>
          <p class="p">Тут будуть правила обміну. (Поки заглушка)</p>
        </div>
      </section>

      <!-- ACCOUNT -->
      <section class="view" data-view="account" hidden>
        <div class="card">
          <h1 class="h1">Account</h1>
          <p class="p">Тут буде вхід/реєстрація і далі KYC (поки без підключення).</p>

          <button class="primaryBtn" type="button">Войти</button>
          <button class="ghostBtn" type="button">Регистрация</button>
        </div>
      </section>

      <!-- MORE -->
      <section class="view" data-view="more" hidden>
        <div class="card">
          <h1 class="h1">More</h1>

          <div class="list">
            <button class="list__item" type="button" data-more="reviews">Відгуки</button>
            <button class="list__item" type="button" data-more="faq">FAQ</button>
            <button class="list__item" type="button" data-more="contacts">Контакти</button>
          </div>

          <div id="moreContent" class="moreContent">
            <div class="p muted">Вибери розділ.</div>
          </div>
        </div>
      </section>
    </main>

    <!-- Currency picker bottom sheet (НЕ ломает клики когда закрыт) -->
    <div id="pickerOverlay" class="pickerOverlay" aria-hidden="true"></div>

    <section id="picker" class="picker" aria-hidden="true">
      <div class="picker__top">
        <div class="picker__title">Вибір</div>
        <button id="pickerClose" class="picker__close" type="button" aria-label="Close">×</button>
      </div>

      <input id="pickerSearch" class="picker__search" placeholder="Search..." />

      <div class="chips">
        <button class="chip is-active" data-filter="all" type="button">All</button>
        <button class="chip" data-filter="crypto" type="button">Crypto</button>
        <button class="chip" data-filter="banks" type="button">Banks</button>
        <button class="chip" data-filter="wallets" type="button">Wallets</button>
        <button class="chip" data-filter="top" type="button">Top</button>
      </div>

      <div id="pickerList" class="picker__list"></div>
    </section>

  </div>

  <script src="./app.js"></script>
</body>
</html>
