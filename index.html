<!doctype html>
<html lang="uk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#eaf5ff" />
  <title>KeksSwap</title>
  <!-- Telegram Mini App (works inside Telegram, safe to ignore elsewhere) -->
  <script>
    try {
      if (window.Telegram && Telegram.WebApp) {
        Telegram.WebApp.ready();
        Telegram.WebApp.expand();
        Telegram.WebApp.setHeaderColor && Telegram.WebApp.setHeaderColor('#eaf5ff');
        Telegram.WebApp.setBackgroundColor && Telegram.WebApp.setBackgroundColor('#eaf5ff');
      }
    } catch (e) {}
  </script>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <style>
    /* Prevent iOS zoom on inputs */
    input, select, textarea { font-size: 16px; }
  </style>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="app">
    <header class="topbar">
      <div class="brand">
        <img class="brand__logo" src="logos/keks-logo.png" alt="KeksSwap" onerror="this.style.display='none'">
        <div class="brand__text">
          <div class="brand__name">KeksSwap</div>
          <div class="brand__tag">–û–±–º—ñ–Ω –∫—Ä–∏–ø—Ç–∏ ‚Üî –±–∞–Ω–∫–∏</div>
        </div>
      </div>

      <button class="lang-btn" id="langBtn" type="button" aria-label="Language">
        <span class="lang-btn__flag" id="langFlag">üá∫üá¶</span>
        <span class="lang-btn__code" id="langCode">UA</span>
        <span class="chev">‚ñæ</span>
      </button>
    </header>

    <main class="content" id="content">
      <!-- Home -->
      <section class="screen is-active" id="screenHome">
        <div class="card hero">
          <h1 class="h1" id="t_exchange">–û–±–º—ñ–Ω</h1>
          <p class="sub" id="t_exchangeSub">–í–∏–±–µ—Ä—ñ—Ç—å –≤–∞–ª—é—Ç—É —Ç–∞ –≤–≤–µ–¥—ñ—Ç—å —Å—É–º—É</p>

          <div class="field">
            <div class="label" id="t_send">–í—ñ–¥–¥–∞—î—Ç–µ</div>

            <button class="picker" id="sendAssetBtn" type="button">
              <span class="picker__left">
                <span class="icon" id="sendAssetIcon"></span>
                <span class="picker__text">
                  <span class="picker__title" id="sendAssetTitle">USDT</span>
                  <span class="picker__subtitle" id="sendAssetSub">Tether (USDT)</span>
                </span>
              </span>
              <span class="chev">‚ñæ</span>
            </button>

            <button class="picker is-secondary" id="sendNetworkBtn" type="button">
              <span class="picker__left">
                <span class="icon icon--small" id="sendNetworkIcon"></span>
                <span class="picker__text">
                  <span class="picker__title" id="sendNetworkTitle">TRC20</span>
                  <span class="picker__subtitle" id="sendNetworkSub">USDT ‚Ä¢ TRX</span>
                </span>
              </span>
              <span class="chev">‚ñæ</span>
            </button>

            <div class="input-row">
              <input class="input" id="amountInput" inputmode="decimal" placeholder="0" />
              <span class="chip" id="amountUnit">USDT</span>
            </div>
          </div>

          <div class="swap-row">
            <button class="swap-btn" id="swapBtn" type="button" aria-label="Swap">
              <span class="swap-ic">‚áÑ</span>
            </button>
          </div>

          <div class="field">
            <div class="label" id="t_receive">–û—Ç—Ä–∏–º—É—î—Ç–µ</div>

            <button class="picker" id="recvAssetBtn" type="button">
              <span class="picker__left">
                <span class="icon" id="recvAssetIcon"></span>
                <span class="picker__text">
                  <span class="picker__title" id="recvAssetTitle">Monobank</span>
                  <span class="picker__subtitle" id="recvAssetSub">UAH ‚Ä¢ Card</span>
                </span>
              </span>
              <span class="chev">‚ñæ</span>
            </button>

            <button class="picker is-secondary" id="recvNetworkBtn" type="button">
              <span class="picker__left">
                <span class="icon icon--small" id="recvNetworkIcon"></span>
                <span class="picker__text">
                  <span class="picker__title" id="recvNetworkTitle">Card</span>
                  <span class="picker__subtitle" id="recvNetworkSub">UAH ‚Ä¢ Card</span>
                </span>
              </span>
              <span class="chev">‚ñæ</span>
            </button>

            <div id="bankFields" class="stack">
              <div class="label" id="t_card">–ù–æ–º–µ—Ä –∫–∞—Ä—Ç–∫–∏</div>
              <input class="input" id="cardInput" inputmode="numeric" placeholder="0000 0000 0000 0000" maxlength="23" />
              <div class="label" id="t_name">–ü–Ü–ë</div>
              <input class="input" id="nameInput" placeholder="–Ü–º'—è –ü—Ä—ñ–∑–≤–∏—â–µ" />
            </div>

            <div id="walletFields" class="stack" style="display:none">
              <div class="label" id="t_wallet">–ê–¥—Ä–µ—Å–∞ –≥–∞–º–∞–Ω—Ü—è</div>
              <input class="input" id="walletInput" placeholder="0x‚Ä¶ / T‚Ä¶ / ‚Ä¶" />
            </div>

            <div class="get-row">
              <div class="get-title" id="t_youGet">–í–∏ –æ—Ç—Ä–∏–º–∞—î—Ç–µ</div>
              <div class="get-val" id="estimateOut">0</div>
            </div>

            <button class="primary" id="createBtn" type="button">–°—Ç–≤–æ—Ä–∏—Ç–∏ –∑–∞—è–≤–∫—É</button>
          </div>
        </div>
      </section>

      <!-- History -->
      <section class="screen" id="screenHistory">
        <div class="card">
          <h2 class="h2" id="t_history">–Ü—Å—Ç–æ—Ä—ñ—è</h2>
          <p class="sub" id="t_historySub">–í–∞—à—ñ –∑–∞—è–≤–∫–∏ –Ω–∞ –æ–±–º—ñ–Ω</p>
          <div class="history" id="historyList"></div>
          <div class="empty" id="historyEmpty" style="display:none">
            <div class="empty__title" id="t_historyEmptyTitle">–ü–æ–∫–∏ —â–æ –ø–æ—Ä–æ–∂–Ω—å–æ</div>
            <div class="empty__sub" id="t_historyEmptySub">–°—Ç–≤–æ—Ä—ñ—Ç—å –ø–µ—Ä—à—É –Ω–∞ –≤–∫–ª–∞–¥—Ü—ñ ¬´–ì–æ–ª–æ–≤–Ω–∞¬ª.</div>
          </div>
        </div>
      </section>

      <!-- Profile -->
      <section class="screen" id="screenProfile">
        <div class="card">
          <div class="profile">
            <div class="avatar-wrap">
              <img id="avatarImg" class="avatar" alt="Avatar" />
              <div id="avatarFallback" class="avatar avatar--fallback">KS</div>
              <input id="avatarFile" class="avatarFile" type="file" accept="image/*" />
              <button class="avatarEdit" id="avatarEditBtn" type="button">–ó–º—ñ–Ω–∏—Ç–∏</button>
            </div>

            <div class="profileMeta">
              <div class="profileName" id="profileName">–ù–æ–≤–∞—á–æ–∫</div>
              <div class="profileUser" id="profileUser">@user</div>
            </div>
          </div>

          <div class="sectionTitle" id="t_contacts">–ö–æ–Ω—Ç–∞–∫—Ç–∏</div>
          <div class="stack">
            <div class="label">Email</div>
            <input class="input" id="emailInput" placeholder="name@email.com" />
            <div class="label" id="t_phone">–¢–µ–ª–µ—Ñ–æ–Ω</div>
            <input class="input" id="phoneInput" inputmode="tel" placeholder="+380‚Ä¶" />
          </div>

          <div class="sectionTitle" id="t_settings">–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</div>
          <div class="grid">
            <button class="tile" id="currencyBtn" type="button">
              <div class="tile__title" id="t_currency">–í–∞–ª—é—Ç–∞ –∞–∫–∞—É–Ω—Ç–∞</div>
              <div class="tile__sub" id="currencyValue">UAH</div>
            </button>
            <button class="tile" id="savedBtn" type="button">
              <div class="tile__title" id="t_saved">–ó–±–µ—Ä–µ–∂–µ–Ω—ñ —Ä–µ–∫–≤—ñ–∑–∏—Ç–∏</div>
              <div class="tile__sub" id="savedCount">0</div>
            </button>
            <button class="tile" id="securityBtn" type="button">
              <div class="tile__title" id="t_security">–ë–µ–∑–ø–µ–∫–∞</div>
              <div class="tile__sub" id="t_securitySub">PIN / Lock</div>
            </button>
            <button class="tile" id="supportBtn" type="button">
              <div class="tile__title" id="t_support">–ü—ñ–¥—Ç—Ä–∏–º–∫–∞</div>
              <div class="tile__sub" id="t_supportSub">@keksswap_support</div>
            </button>
          </div>

          <button class="secondary" id="saveProfileBtn" type="button">–ó–±–µ—Ä–µ–≥—Ç–∏</button>
        </div>
      </section>
    </main>

    <nav class="tabs">
      <button class="tab is-active" data-tab="home" type="button">
        <span class="tab__ic">üè†</span><span class="tab__tx" id="t_tabHome">–ì–æ–ª–æ–≤–Ω–∞</span>
      </button>
      <button class="tab" data-tab="history" type="button">
        <span class="tab__ic">üïì</span><span class="tab__tx" id="t_tabHistory">–Ü—Å—Ç–æ—Ä—ñ—è</span>
      </button>
      <button class="tab" data-tab="profile" type="button">
        <span class="tab__ic">üë§</span><span class="tab__tx" id="t_tabProfile">–ü—Ä–æ—Ñ—ñ–ª—å</span>
      </button>
    </nav>

    <!-- Bottom sheet -->
    <div class="sheet-backdrop" id="sheetBackdrop" hidden></div>
    <div class="sheet" id="sheet" hidden>
      <div class="sheet__head">
        <div class="sheet__drag"></div>
        <div class="sheet__title" id="sheetTitle">–í–∏–±–µ—Ä—ñ—Ç—å</div>
        <button class="sheet__close" id="sheetCloseBtn" type="button" aria-label="Close">‚úï</button>
      </div>

      <!-- Search (used ONLY for currency/bank/crypto list; hidden for language/network) -->
      <div class="sheet__search" id="sheetSearchWrap">
        <input class="input" id="sheetSearch" placeholder="–ü–æ—à—É–∫" />
      </div>

      <div class="sheet__body" id="sheetBody"></div>
    </div>

    <div class="toast" id="toast" hidden></div>
  </div>

  <script src="app.js"></script>
</body>
</html>
