:root{
  --bg1:#eef0ff;
  --bg2:#dcd9ff;
  --card:#ffffffcc;
  --text:#0c1220;
  --muted:#6a7285;
  --line:rgba(15,23,42,.10);

  --radius:22px;
  --shadow: 0 12px 30px rgba(17, 24, 39, .10);

  --safeTop: 12px;
  --safeBottom: 12px;

  --container: 760px;
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color:var(--text);
  background: radial-gradient(1100px 560px at 20% 0%, #cfd0ff 0%, transparent 65%),
              radial-gradient(900px 500px at 85% 10%, #e0d5ff 0%, transparent 60%),
              linear-gradient(180deg, var(--bg2), var(--bg1));
}

.wrap{
  max-width: var(--container);
  margin:0 auto;
  padding: calc(var(--safeTop) + 10px) 14px calc(var(--safeBottom) + 18px);
}

/* ===== Sticky header ===== */
.header{
  position: sticky;
  top: 0;
  z-index: 50;
  padding-top: var(--safeTop);
  backdrop-filter: blur(12px);
  background: linear-gradient(180deg, rgba(238,240,255,.92), rgba(238,240,255,.60));
  border-bottom: 1px solid rgba(15,23,42,.06);
}

.headerInner{
  max-width: var(--container);
  margin: 0 auto;
  padding: 10px 14px 10px;
  display:flex;
  align-items:center;
  gap:10px;
}

.brandWide{
  flex:1;
  min-width:0;
  display:flex;
  align-items:center;
}

/* Smaller language buttons */
.lang{ display:flex; gap:8px; }
.lang button{
  border: 1px solid rgba(15,23,42,.10);
  background: rgba(255,255,255,.75);
  padding: 6px 9px;
  border-radius: 14px;
  font-weight: 800;
  font-size: 12px;
}
.lang button.active{
  background: #6b5cff;
  color:#fff;
  border-color: transparent;
}

/* ===== Top menu in one row ===== */
.topMenu{
  max-width: var(--container);
  margin: 0 auto;
  padding: 0 14px 12px;
  display:flex;
  gap:8px;
  overflow-x:auto;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none;
}
.topMenu::-webkit-scrollbar{ display:none; }

.topMenu .tab{
  white-space:nowrap;
  border: 1px solid rgba(15,23,42,.10);
  background: rgba(255,255,255,.78);
  padding: 9px 12px;
  border-radius: 14px;
  font-weight: 900;
  font-size: 13px;
}
.topMenu .tab.active{
  background: rgba(107,92,255,.14);
  border-color: rgba(107,92,255,.25);
}

/* ===== Content cards ===== */
.card{
  background: var(--card);
  border: 1px solid rgba(15,23,42,.08);
  border-radius: 28px;
  box-shadow: var(--shadow);
  padding: 18px;
  margin: 14px 0;
}

.h1{
  font-weight: 1000;
  font-size: 40px;
  margin: 0 0 10px;
  letter-spacing: -0.5px;
}
.label{
  font-weight: 900;
  color: #3b465e;
  font-size: 20px;
  margin: 10px 0 10px;
}

.field{
  width:100%;
  border-radius: 18px;
  border: 1px solid rgba(15,23,42,.10);
  background: rgba(255,255,255,.75);
  padding: 14px 14px;
  font-size: 22px;
  font-weight: 900;
  outline:none;
}

.selectBtn{
  width:100%;
  margin-top: 12px;
  border-radius: 20px;
  border: 1px solid rgba(15,23,42,.10);
  background: rgba(255,255,255,.78);
  padding: 14px 14px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
}

.selLeft{
  display:flex;
  align-items:center;
  gap:12px;
  min-width:0;
}
.selName{
  font-weight: 900;
  font-size: 18px;
  overflow:hidden;
  text-overflow:ellipsis;
  white-space:nowrap;
}
.selSub{
  color: var(--muted);
  font-weight: 800;
  font-size: 13px;
}

/* FIX icons: НЕ обрезаем, а помещаем */
.icon40{
  width:42px;
  height:42px;
  border-radius: 14px;
  background:#fff;
  border: 1px solid rgba(15,23,42,.08);
  box-shadow: 0 8px 18px rgba(17,24,39,.08);
  object-fit: contain;       /* ВАЖНО */
  padding: 6px;              /* ВАЖНО */
  flex: 0 0 auto;
}

.swapBtn{
  width:60px; height:60px;
  border-radius: 18px;
  border: 1px solid rgba(15,23,42,.08);
  background: rgba(255,255,255,.65);
  box-shadow: 0 14px 26px rgba(17,24,39,.10);
  display:flex;
  align-items:center;
  justify-content:center;
  margin: 14px auto;
  font-size: 22px;
}

/* Continue button */
.primaryBtn{
  width:100%;
  border: 0;
  margin-top: 14px;
  border-radius: 18px;
  padding: 14px 16px;
  font-size: 16px;
  font-weight: 1000;
  color:#fff;
  background: #6b5cff;
  box-shadow: 0 16px 28px rgba(107,92,255,.25);
}
.primaryBtn:active{ transform: translateY(1px); }
.primaryBtn[disabled]{ opacity:.5; }

/* ===== Modal поднят выше ===== */
.modalOverlay{
  position: fixed;
  inset:0;
  background: rgba(10,12,20,.35);
  display:none;
  z-index: 100;
}
.modalOverlay.show{ display:block; }

.modal{
  position: fixed;
  left:0; right:0;
  bottom: calc(var(--safeBottom) + 64px);
  margin: 0 auto;
  max-width: var(--container);
  background: rgba(255,255,255,.92);
  border-top-left-radius: 26px;
  border-top-right-radius: 26px;
  border: 1px solid rgba(15,23,42,.10);
  box-shadow: 0 -18px 40px rgba(17,24,39,.18);
  padding: 14px;
}

.modalHead{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  padding: 6px 4px 10px;
}
.modalHead h3{
  margin:0;
  font-size: 22px;
  font-weight: 1000;
}
.closeBtn{
  width:40px; height:40px;
  border-radius: 16px;
  border: 1px solid rgba(15,23,42,.10);
  background: rgba(255,255,255,.70);
  font-size: 18px;
}

.search{
  width:100%;
  border-radius: 18px;
  border: 1px solid rgba(15,23,42,.10);
  background: rgba(255,255,255,.75);
  padding: 12px 14px;
  font-size: 16px;
  font-weight: 800;
  outline:none;
}

.list{
  margin-top: 12px;
  max-height: 55vh;
  overflow:auto;
  -webkit-overflow-scrolling: touch;
}

.item{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  padding: 12px;
  border-radius: 18px;
  border: 1px solid rgba(15,23,42,.08);
  background: rgba(255,255,255,.72);
  margin-bottom: 10px;
}

.itemLeft{
  display:flex;
  align-items:center;
  gap:12px;
  min-width:0;
}
.itemTitle{
  font-weight: 1000;
  font-size: 16px;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}
.itemMeta{
  color: var(--muted);
  font-weight: 800;
  font-size: 13px;
  margin-top:2px;
}

/* ===== SVG animation classes ===== */
.ks-wrap{
  transform: translateX(-60px);
  opacity: 0;
  animation: ksEnter 650ms cubic-bezier(.2,.9,.2,1) forwards;
}
@keyframes ksEnter{ to { transform: translateX(0); opacity: 1; } }

#brandSvg.tap .ks-wrap{
  animation: ksEnter 650ms cubic-bezier(.2,.9,.2,1) forwards, ksTapShake 420ms ease-in-out;
}
@keyframes ksTapShake{
  0%{ transform: translateX(0) rotate(0) scale(1); }
  20%{ transform: translateX(2px) rotate(-1deg) scale(1.01); }
  45%{ transform: translateX(-2px) rotate(1deg) scale(1.01); }
  70%{ transform: translateX(1px) rotate(-.5deg) scale(1.005); }
  100%{ transform: translateX(0) rotate(0) scale(1); }
}

.ks-cupcake{ transform-origin: 1010px 125px; animation: ksCupcakePulse 3s ease-in-out infinite; }
@keyframes ksCupcakePulse{ 0%,100%{transform:scale(1)} 50%{transform:scale(1.02)} }

.ks-tetherT{ transform-origin: 1035px 115px; animation: ksTPop 3s ease-in-out infinite; }
@keyframes ksTPop{ 0%,45%,100%{transform:scale(1)} 60%{transform:scale(1.1)} 75%{transform:scale(1)} }
